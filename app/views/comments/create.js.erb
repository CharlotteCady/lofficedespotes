
<% if @comment.errors.any? %>
  // Render new review form with errors
  $('#new_comment').html("<%= j render 'comments/form', ressource: @ressource, comment: @comment %>");
  $('#comment_comment').val("Une erreur est survenue :(");

<% else %>
  // $('.add-comment').remove();
  // Create a paragraph for the new review. But hide it.
  var new_comment = $("<%= j render 'comments/show', comment: @comment %>").hide();
    // Add it to the DOM, at the end of the existing reviews. It's still hidden.
  $('#comments').append(new_comment);
    // Show the new review with an animation!
  new_comment.slideDown();
    // Remove the text from the content textarea.
  $('#comment_comment').val('Votre commentaire a bien été ajouté !');
<% end %>

